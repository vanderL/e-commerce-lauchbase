{% extends "layout.njk" %}

{% block content %}
    <section class="container form">
        <form  method="POST" action="/products?_method=PUT">
            
            <div class="header">
                <h3>Editar Produto {{ productId }}</h3>
            </div>

            <div class="fields">
                {%include "products/fields.njk"%}
                <input
                    type="hidden"
                    name="id"
                    value="{{ product.id}}">
            </div>

            <button class="button edit" type="submit">Atualizar</button>
            
            <form id="form-delete" action="/members?_method=DELETE" method="post">
                <input type="hidden" name="id" value="{{ product.id}}">
                <button class="button delete" type="submit">Delete</button>
            </form>
        </form>

        <script>
            const formDelete = document.querySelector('#form-delete')
            formDelete.addEventListener('submit', function(event) {
                const confirmation = confirm('Are you sure you want to delete')
                if(!confirmation){
                    event.preventDefault()
                }
            })

        </script>
    </section>
{% endblock content %}